<!doctype html>
<html class="no-js" lang="">
<head>
<meta http-equiv="Content-type" content="text/html; charset=UTF-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="TempHumidPress - LetsIoT">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>温度、湿度、気圧を測定し、記録する - IoTをはじめましょう(仮称)</title>
<link rel="shortcut icon" href="/favicon.ico" />

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<style>
    body {
        /* padding-top: 20px;
        padding-bottom: 20px; */
    }
    .navbar {
        margin-bottom: 60px;
        height: 140px;
    }
    .navbar-brand img {
        padding: 20px 0;
    }
    .footer {
        margin-top: 60px;
        background: #F7F7F7;
    }
    .footer ul {
        padding-top: 35px;
        padding-left: 0px;
        margin-left: 0px;
    }
    .footer li {
        line-height: 25px;
        padding-left: 0px;
        margin-left: 0px;
        list-style: none;
    }
    .footer a {
        color: #999;
        font-weight: bold;
    }
    .footer #copyright {
        clear: left;
        margin-top: 35px;
        margin-bottom: 20px;
    }
    .alert-info {
        margin-top: 70px;
        background-image: none !important;
    }
</style>
</head>
<body>

<div class="navbar navbar-default">
    <div class="container">
        <div class="container-fluid">

            <div class="navbar-header">
                <a class="navbar-brand" href="https://www.switch-science.com/">
                    <img alt="switch-science" src="../../top-logo.gif">
                </a>
            </div>

          </div>
    </div>
</div>

<div class="wrap">
    <div class="container">

        <div class="row">
            <div class="col-lg-8 col-sm-9 hidden-xs">
                <h1>温度、湿度、気圧を測定し、記録する</h1>
            </div>

            <div class="col-sm-9 col-lg-8">
                <p>こんにちは。アンビエントデーターの下島です。</p>
                <p>今月からシリーズでいろいろなセンサを使ったIoTのサンプルを紹介していきます。第一回は温度、湿度、気圧を測定し、クラウドに送信して記録し、確認する事例です。</p>

                <h2>全体の構成</h2>
                <p><img src="../images/temphumidpress/struct.jpg" width="720px"></p>
                <p>温度、湿度、気圧センサをマイコンで制御し、測定したデータをクラウドに送って記録し、グラフ化してデータが確認できるようにします。</p>
                <p>センサ端末の要件は用途によって様々です。今回は家や学校、オフィスなどで気象データを測定することを想定し、設置場所の制約の少ないワイアレスなセンサ端末にします。そのために、端末を電池で動作させ、測定データをWi-Fi経由でクラウドに送信するようにします。</p>
                <p>また、気象データとしての温度や湿度はそれ程急激には変化しないので、データは5分毎に測定することにします。</p>
                <p>クラウドサービスとしては、簡単にIoTデータの可視化ができる「<a href="https://ambidata.io">Ambient</a>」を使い、データを記録し、グラフ化します。</p>

                <h2>センサ端末のハードウェア</h2>
                <p>温度、湿度、気圧センサにはいろいろな製品があります。<a href="https://www.switch-science.com/">スイッチサイエンスのサイト</a>で「温度センサ」で検索すると、温度だけを測定するもの、温度と湿度を測定するもの、温度、湿度、気圧を測定するものなど144製品がヒットします。今回は気象データの測定を想定し、温度、湿度、気圧が測定できる「BME280センサモジュール」を使います。</p>
                <p>センサの制御にはWi-Fiモジュールが搭載されたマイコンボード「ESPr Developer」を使います。Wi-Fiは家やオフィスなどで幅広く使われており、特別なゲートウェイがなくても簡単にデータをクラウドに送信できるところがメリットです。</p>
                <p>センサ端末に必要な部品をまとめました。</p>

                <div>
                    <table class="table table-bordered" style="font-size:0.9em; width: 70%;">
                        <thead>
                            <tr><th>部品</th><th>個数</th></tr>
                        </thead>
                        <tbody>
                            <tr><td><a href="https://www.switch-science.com/catalog/2236/">BME280搭載　温湿度・気圧センサモジュール</a></td><td>1個</td></tr>
                            <tr><td><a href="https://www.switch-science.com/catalog/2500/">ESPr® Developer (ESP-WROOM-02開発ボード)</a></td><td>1個</td></tr>
                            <tr><td><a href="https://www.switch-science.com/catalog/1280/">細いピンヘッダ 20P</a></td><td>1個</td></tr>
                            <tr><td><a href="https://www.switch-science.com/catalog/313/">普通のブレッドボード</a></td><td>1個</td></tr>
                            <tr><td><a href="https://www.switch-science.com/catalog/314/">固いジャンパワイヤ　(ブレッドボード用)</a></td><td>1個</td></tr>
                        </tbody>
                    </table>
                </div>

                <p>温度・湿度・気圧センサのBME280はI2CとSPIという二つのインタフェースに対応しています。マイコンに接続するのがBME280だけであれば、I2C、SPIのどちらを選択しても構いません。今回はSPIインタフェースで接続することにします。</p>

                <div>
                    <table class="table table-bordered" style="font-size:0.9em; width: 70%;">
                        <thead>
                            <tr><th colspan="2">ESPr Developer</th><th>BME280モジュール</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>MISO</td><td>IO12</td><td>SDO</td></tr>
                            <tr><td>CLK</td><td>IO14</td><td>SCK</td></tr>
                            <tr><td>MOSI</td><td>IO13</td><td>SDI</td></tr>
                            <tr><td>CS</td><td>IO15</td><td>CSB</td></tr>
                            <tr><td colspan="2">GND</td><td>GND</td></tr>
                            <tr><td colspan="2">+3.3V</td><td>Vcore</td></tr>
                            <tr><td colspan="2">+3.3V</td><td>Vio</td></tr>
                        </tbody>
                    </table>
                </div>

                <p>回路図は次のようになります。</p>
                <p><img src="../images/temphumidpress/schema.jpg" width="720px"></p>
                <p>回路図を基にブレッドボード上に組み立てたセンサ端末の例です。BME280モジュールにはまっすぐなピンヘッダが付属していて、これで問題はありませんが、今回はモジュールをブレッドボードから離して設置したかったので、L字型のピンヘッダを使いました。</p>
                <p><img src="../images/temphumidpress/hw.jpg" width="720px"></p>

            </div>

            <div class="col-lg-push-1 col-sm-3 col-lg-3 hidden-xs">
                <ul class="nav nav-pills nav-stacked">
                    <li class="open"><a href="index.html">温度、湿度、気圧を測定し、記録する</a></li>
                </ul>
            </div>

        </div>
    </div>
</div>

<div class="footer">
    <div class="container">
        <div class="row">
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
        </div>
        <div id="copyright">
            &copy; 2018 Switch Scinece, inc. &copy; 2018 AmbientData, Inc.
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

</body>
</html>
