<!doctype html>
<html class="no-js" lang="">
<head>
<meta http-equiv="Content-type" content="text/html; charset=UTF-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="M5MonthlyUpdate202005">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>M5Stackマンスリーアップデート 2020年5月</title>
<link rel="shortcut icon" href="/favicon.ico" />

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<style>
    body {
        /* padding-top: 20px;
        padding-bottom: 20px; */
    }
    .navbar {
        margin-bottom: 60px;
        height: 140px;
    }
    .navbar-brand img {
        padding: 40px 0;
    }
    .footer {
        margin-top: 60px;
        background: #F7F7F7;
    }
    .footer ul {
        padding-top: 35px;
        padding-left: 0px;
        margin-left: 0px;
    }
    .footer li {
        line-height: 25px;
        padding-left: 0px;
        margin-left: 0px;
        list-style: none;
    }
    .footer a {
        color: #999;
        font-weight: bold;
    }
    .footer #copyright {
        clear: left;
        margin-top: 35px;
        margin-bottom: 20px;
    }
    .alert-info {
        margin-top: 70px;
        background-image: none !important;
    }
    h2 {
        margin-top: 40px;
    }
    .submenu li {
        margin-bottom: 6px;
    }
    .img-responsive {
        margin-top: 40px;
        margin-bottom: 40px;
    }
</style>
</head>
<body>

<div class="navbar navbar-default">
    <div class="container">
        <div class="container-fluid">

            <div class="navbar-header">
                <a class="navbar-brand" href="https://www.switch-science.com/">
                    <img alt="switch-science" src="../../top-logo.gif">
                </a>
            </div>

          </div>
    </div>
</div>

<div class="wrap">
    <div class="container">

        <div class="row">
            <div class="col-lg-8 col-sm-9 hidden-xs" style="margin-bottom: 20px;">
                <h1>M5Stackマンスリーアップデート</h1>
            </div>
            <div class="col-lg-8 col-sm-9 hidden-xs">
                <p class="text-right">2020年5月18日</p>
            </div>
            <div class="col-lg-8 col-sm-9 hidden-xs">
                <h2>2020年5月</h2>
            </div>

            <div class="col-sm-9 col-lg-8" style="font-size: 16px;">


                <p>M5Stack社の製品にまつわる新情報をまとめてお届けする「M5Stackマンスリーアップデート」のコーナーです。</p>

                <h2 id="2020年4月の新製品">2020年4月の新製品</h2>
                <p>2020年4月は次の製品の販売が始まりました。</p>
                <div class="row">
                    <div class="panel panel-default col-sm-4" style="margin-right: 10px;">
                        <div class="panel-heading">
                            <a href="https://www.switch-science.com/catalog/6260/"><h3 class="panel-title">ATOM Matrix</h3></a>
                        </div>
                        <div class="panel-body">
                            24 x 24ミリの小型の開発モジュール。上面に5x5のマトリックスLEDを搭載。
                        </div>
                        <div>
                            <a href="https://www.switch-science.com/catalog/6260/">
                                <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6260/500x500/4364a789-cdb6-4686-a19b-ca12ac0d71cc.jpg" alt="atom matrix" width="100%">
                            </a>
                        </div>
                    </div>
                    <div class="panel panel-default col-sm-4" style="margin-right: 10px;">
                        <div class="panel-heading">
                            <a href="https://www.switch-science.com/catalog/6262/"><h3 class="panel-title">ATOM Lite</h3></a>
                        </div>
                        <div class="panel-body">
                            24 x 24ミリの小型の開発モジュール。マトリックスLEDがないモデル。
                        </div>
                        <div>
                            <a href="https://www.switch-science.com/catalog/6262/">
                                <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6262/500x500/c65661f1-5822-4af4-a0bb-b40a57cfe7e0.png" alt="atom lite" width="100%">
                            </a>
                        </div>
                    </div>
                    <div class="panel panel-default col-sm-4" style="margin-right: 10px;">
                        <div class="panel-heading">
                            <a href="https://www.switch-science.com/catalog/6208/"><h3 class="panel-title">BugC</h3></a>
                        </div>
                        <div class="panel-body">
                            M5StickCを載せて制御する4本足の小型ロボット。
                        </div>
                        <div>
                            <a href="https://www.switch-science.com/catalog/6208/">
                                <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6208/500x500/56a3e4c1-767a-4f7d-854c-c6f76e37f3b6.png" alt="BugC" width="100%">
                            </a>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="panel panel-default col-sm-4" style="margin-right: 10px;">
                        <div class="panel-heading">
                            <a href="https://www.switch-science.com/catalog/6207/"><h3 class="panel-title">JoyC</h3></a>
                        </div>
                        <div class="panel-body">
                            M5StickCを接続して使うコントローラモジュール。
                        </div>
                        <div>
                            <a href="https://www.switch-science.com/catalog/6207/">
                                <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6207/500x500/7bb260a6-ba35-405d-b4af-56c74e074c86.png" alt="JoyC" width="100%">
                            </a>
                        </div>
                    </div>
                    <div class="panel panel-default col-sm-4" style="margin-right: 10px;">
                        <div class="panel-heading">
                            <a href="https://www.switch-science.com/catalog/6206/"><h3 class="panel-title">RoverC</h3></a>
                        </div>
                        <div class="panel-body">
                            メカナムホイールを搭載した全方向移動ロボット。M5StickCを接続して使う。
                        </div>
                        <div>
                            <a href="https://www.switch-science.com/catalog/6206/">
                                <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6206/500x500/ff8b63bc-2aae-4865-9191-eb61998d67f1.png" alt="RoverC" width="100%">
                            </a>
                        </div>
                    </div>
                    <div class="panel panel-default col-sm-4" style="margin-right: 10px;">
                        <div class="panel-heading">
                            <a href="https://www.switch-science.com/catalog/6210/"><h3 class="panel-title">PuppyC</h3></a>
                        </div>
                        <div class="panel-body">
                            4つのサーボモーターで動く四脚ロボット。M5StickCを接続して使う。
                        </div>
                        <div>
                            <a href="https://www.switch-science.com/catalog/6210/">
                                <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6210/500x500/efd138f5-2ffb-4609-8711-6641ca5a5475.png" alt="PuppyC" width="100%">
                            </a>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="panel panel-default col-sm-4" style="margin-right: 10px;">
                        <div class="panel-heading">
                            <a href="https://www.switch-science.com/catalog/6209/"><h3 class="panel-title">M5StickC 8Servos Hat</h3></a>
                        </div>
                        <div class="panel-body">
                            8個のサーボを制御できるM5StickCの拡張ボード。
                        </div>
                        <div>
                            <a href="https://www.switch-science.com/catalog/6209/">
                                <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6209/500x500/165ce566-1ec8-48ab-8396-c7b0b09172d3.jpg" alt="M5StickC 8Servos Hat" width="100%">
                            </a>
                        </div>
                    </div>
                    <div class="panel panel-default col-sm-4" style="margin-right: 10px;">
                        <div class="panel-heading">
                            <a href="https://www.switch-science.com/catalog/6211/"><h3 class="panel-title">PowerC</h3></a>
                        </div>
                        <div class="panel-body">
                            M5StickCを接続して使う充電モジュール。
                        </div>
                        <div>
                            <a href="https://www.switch-science.com/catalog/6211/">
                                <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6211/500x500/00fd437c-103f-4ba6-9996-2dcad7554e7d.png" alt="PowerC" width="100%">
                            </a>
                        </div>
                    </div>
                    <div class="panel panel-default col-sm-4" style="margin-right: 10px;">
                        <div class="panel-heading">
                            <a href="https://www.switch-science.com/catalog/6213/"><h3 class="panel-title">Mini Fan Unit</h3></a>
                        </div>
                        <div class="panel-body">
                            ファンユニット。GroveケーブルでM5Stack、M5StickCなどにつないで使う。
                        </div>
                        <div>
                            <a href="https://www.switch-science.com/catalog/6213/">
                                <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6213/500x500/1d5eccd3-d37f-4609-a824-7c8f60282a54.png" alt="Mini Fan Unit" width="100%">
                            </a>
                        </div>
                    </div>
                </div>
                <p>中でも一番のニュースは、国内でATOM Matrix、ATOM Liteの販売が始まったことです。</p>
                <p><img src="./images/stack-stickc-atom.jpg" width="100%" class="img-responsive center-block" alt="stack-stickc-atom"></p>

                <h2 id="atom-matrix、lite">ATOM Matrix、Lite</h2>
                <p>ATOM Matrix、ATOM LiteはM5Stack、M5StickCに続く新しい開発モジュールです。上の写真の左からM5Stack Basic、M5StickC、ATOM Matrixです。M5Stack、M5StickCにあった液晶画面がなくなり、24 x 24ミリと小さくなりました。M5Stack、M5StickCと比べるとその小ささが分かります。おもちゃやIoT端末などのコントローラとしてとても便利に使えそうです。</p>
                <p>内部にはM5StackやM5StickCと同じESP32というマイコンが搭載されています。ESP32に内蔵される通信モジュールにより、Wi-FiとBluetoothで通信できます。プログラムはArduino、UI Flow、MicroPythonで作ることができます。</p>
                <p>ATOMの主なスペックをM5Stack、M5StickCと比べてみました。</p>
                <p><img src="./images/m5stack-spec.jpg" width="100%" class="img-responsive center-block" alt="M5stack-spec"></p>

                <h3 id="ui-flowでのプログラミング">UI FLOWでのプログラミング</h3>
                <p>まずUI FlowでATOMを動かす方法を見てみます。UI Flowの準備や使い方はM5Stackカフェ「<a href="https://pages.switch-science.com/m5cafe/1_Lchika/">LEDを点滅させる</a>」をご覧ください。</p>
                <p>最初にM5BurnerでATOMにファームウェアを書き込みます。2020年5月時点で最新のUIFlow-v1.5.1、v1.5.2というバージョンでは書き込むデバイスとしてATOMが選択肢に現れないので、UIFlow-v1.4.5.1を選びます。ATOMをUSBケーブルでパソコンに接続し、M5BurnerでUSBデバイスを選び、右上の「Series」から「ATOM-Matrix」を選びます。</p>
                <p><img src="./images/selectDev.jpg" width="100%" class="img-responsive center-block" alt="デバイスを選択"></p>
                <p>「Erase」ボタンをクリックしてファームウェアを消去し、「Burn」ボタンでファームウェアを書き込みます。ファームウェアを書き込んだら、ターミナルソフトを立ち上げてATOMがつながっているUSB回線を選び、ATOMのリセットボタンを押します。すると次のようなメッセージが表示され、その中にAPIキーが表示されます。</p>
                <p><img src="./images/APIkey.jpg" width="70%" class="img-responsive center-block" alt="APIキー"></p>
                <p>ブラウザでUI Flowを立ち上げ、先程表示されたAPIキーを入力し、デバイスとして「Atom-Matrix」を選択します。</p>
                <p><img src="./images/setupUIFlow.jpg" width="70%" class="img-responsive center-block" alt="UIFlow設定"></p>
                <p>左側のUI画面にはATOMが表示され、「ハードウェア」メニューにはRGBカラーと加速度＆ジャイロが現れます。RGBカラーを見ると、5 x 5 のマトリックスLEDを制御するためのブロックが表示されます。</p>
                <p><img src="./images/RGBcolormenu.jpg" width="100%" class="img-responsive center-block" alt="RGBカラーメニュー"></p>
                <p>あとは好きなブロックを選んで組み合わせることで、ATOMを動かすことができます。</p>

                <h3 id="arduinoでのプログラミング">Arduinoでのプログラミング</h3>
                <p>Arduinoでのプログラミングの方法です。</p>
                <p>Arduino IDEを立ち上げて、「ツール」メニューから「ライブラリを管理…」を選んで、ライブラリマネージャを立ち上げます。検索窓に「atom」と入力して、「M5Atom」ライブラリをインストールします。</p>
                <p><img src="./images/M5ATOMlib.jpg" width="100%" class="img-responsive center-block" alt="M5Atomライブラリをインストール"></p>
                <p>「M5Atom」ライブラリをインストールすると、「ファイル」メニューの「スケッチ例」に「M5Atom」が追加されます。その中の「Buttom」と書かれたスケッチを選んでみましょう（Buttonのスペルミスだと思います）。</p>
                <p>ビルドするには、最初にボードを選択しますが、2020年5月時点では「M5ATOM」はありません。代わりに「M5StickC」を選びます。シリアルポートを選択して、ビルドボタンをクリックすると…</p>
<pre><code>FastLED.h: No such file or directory
</code></pre>
                <p>エラーが出てしまいました。FastLED.hがないということなので、ライブラリマネージャで「FastLED」をインストールします。</p>
                <p><img src="./images/fastled.jpg" width="100%" class="img-responsive center-block" alt="FastLEDをインストール"></p>
                <p>これでビルドができて、プログラムが動き出します。ATOMのマトリックスLEDがスイッチになっていて、これを押すと、押すたびにLEDの色が赤、緑、青と変化します。</p>
                <p>Arduinoのスケッチの書き方はM5StackやM5StickCとほぼ同じです。スケッチの先頭にM5Stackでは <code>#include &lt;M5Stack.h&gt;</code> 、M5StickCでは <code>#include &lt;M5StickC.h&gt;</code> と書きますが、ATOMでは <code>#include &lt;M5Atom.h&gt;</code> と書くようにします。</p>
                <p>スケッチ例には「Button」の他に「LEDDisplay」「LEDSet」「MPU6886」があります。</p>
                <p><img src="./images/selectexample.jpg" width="100%" class="img-responsive center-block" alt="スケッチ例"></p>
                <p>「LEDSet」はマトリックスの左上のLEDだけの色を変えるサンプル、「MPU6886」は加速度とジャイロセンサの値をシリアルに出力するサンプルです。「LEDDisplay」はマトリックスLEDに何かを表示するようなのですが、著者の環境では何も表示されませんでした。</p>
                <p>ATOMは10円玉の直径と同じぐらいのサイズと、とても小型ながら、ESP32が搭載され、UI FlowやArduinoでプログラミングできるので、アイデア次第でいろいろな使い方ができそうです。</p>


            </div>

            <div class="col-lg-push-1 col-sm-3 col-lg-3 hidden-xs" style="margin-bottom: 40px;">
                <div style="float: left; margin-right: 10px;">
                    <img src="../images/master.jpg" width="50px;" class="center-block">
                </div>
                <div style="overflow: hidden;">
                    <p>書いた人:下島健彦。<a href="https://ambidata.io" target="_blank">Ambient</a>開発者。アンビエントデーター代表取締役。</p>
                </div>
            </div>
            <div class="col-lg-push-1 col-sm-3 col-lg-3 hidden-xs submenu" style="margin-bottom: 40px;">
                <ul class="nav nav-pills nav-stacked">
                    <li class="open"><a href="index.html">2020年5月</a></li>
                    <ul class="list-unstyled">
                        <li><a href="#2020年4月の新製品">2020年4月の新製品</a></li>
                        <li><a href="#atom-matrix、lite">ATOM Matrix、Lite</a></li>
                        <li><a href="#ui-flowでのプログラミング">UI FLOWでのプログラミング</a></li>
                        <li><a href="#arduinoでのプログラミング">Arduinoでのプログラミング</a></li>
                    </ul>
                </ul>
            </div>
            <div class="col-lg-push-1 col-sm-3 col-lg-3 hidden-xs submenu" id="backnumber">
            </div>
        </div>
    </div>
</div>

<div class="footer">
    <div class="container">
        <div class="row">
            <div>
                <h5>免責事項</h5>
                <p style="font-size:0.8em;">記事は実際に実験をおこなった上で書いていますが、動作を保証するものではありません。また本記事を利用したことにより生じる損害についてスイッチサイエンスおよびアンビエントデーターは一切の責任を負いません。</p>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
        </div>
        <div id="copyright">
            &copy; 2020 Switch Scinece, inc. &copy; 2020 AmbientData, Inc.
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script>
    $(document).ready(function() {
        $('#backnumber').load('../backnumber.html');
    });
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-4499733-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-4499733-1');
</script>

</body>
</html>
