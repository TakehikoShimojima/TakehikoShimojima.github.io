<!doctype html>
<html class="no-js" lang="">
<head>
<meta http-equiv="Content-type" content="text/html; charset=UTF-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="M5MonthlyUpdate202007">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>M5Stackマンスリーアップデート 2020年7月</title>
<link rel="shortcut icon" href="/favicon.ico" />

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<style>
    body {
        /* padding-top: 20px;
        padding-bottom: 20px; */
    }
    .navbar {
        margin-bottom: 60px;
        height: 140px;
    }
    .navbar-brand img {
        padding: 40px 0;
    }
    .footer {
        margin-top: 60px;
        background: #F7F7F7;
    }
    .footer ul {
        padding-top: 35px;
        padding-left: 0px;
        margin-left: 0px;
    }
    .footer li {
        line-height: 25px;
        padding-left: 0px;
        margin-left: 0px;
        list-style: none;
    }
    .footer a {
        color: #999;
        font-weight: bold;
    }
    .footer #copyright {
        clear: left;
        margin-top: 35px;
        margin-bottom: 20px;
    }
    .alert-info {
        margin-top: 70px;
        background-image: none !important;
    }
    h2 {
        margin-top: 40px;
    }
    .submenu li {
        margin-bottom: 6px;
    }
    .img-responsive {
        margin-top: 40px;
        margin-bottom: 40px;
    }
</style>
</head>
<body>

<div class="navbar navbar-default">
    <div class="container">
        <div class="container-fluid">

            <div class="navbar-header">
                <a class="navbar-brand" href="https://www.switch-science.com/">
                    <img alt="switch-science" src="../../top-logo.gif">
                </a>
            </div>

          </div>
    </div>
</div>

<div class="wrap">
    <div class="container">

        <div class="row">
            <div class="col-lg-8 col-sm-9 hidden-xs" style="margin-bottom: 20px;">
                <h1>M5Stackマンスリーアップデート</h1>
            </div>
            <div class="col-lg-8 col-sm-9 hidden-xs">
                <p class="text-right">2020年7月7日</p>
            </div>
            <div class="col-lg-8 col-sm-9 hidden-xs">
                <h2>2020年7月</h2>
            </div>

            <div class="col-sm-9 col-lg-8" style="font-size: 16px;">

                <p>M5Stack社の製品にまつわる新情報をまとめてお届けする「M5Stackマンスリーアップデート」のコーナーです。</p>
                <h2 id="年6月の新製品">2020年6月の新製品</h2>
                <p>2020年6月は次の製品の販売が始まりました。</p>

                <div class="row">
                    <table class="table">
                        <tbody>
                            <tr>
                                <td class="col-sm-2">
                                    <a href="https://www.switch-science.com/catalog/6347/">
                                        <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6347/500x500/f21452a8-3e90-4415-a558-d6ed893ea870.jpg" alt="atom echo" width="100%">
                                    </a>
                                </td>
                                <td class="col-sm-10">
                                    <p><a href="https://www.switch-science.com/catalog/6347/">ATOM Echo - スマートスピーカー開発キット</a></p>
                                    <p>ATOMシリーズでスピーカーとマイクが内蔵されたモデル。</p>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-sm-2">
                                    <a href="https://www.switch-science.com/catalog/6345/">
                                        <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6345/500x500/8b70a473-7e4e-4882-9b02-1a94ab56fdb8.jpg" alt="ATOMICプロトキット" width="100%">
                                    </a>
                                </td>
                                <td class="col-sm-10">
                                    <p><a href="https://www.switch-science.com/catalog/6345/">ATOMICプロトキット</a></p>
                                    <p>ATOMシリーズ向けに設計された、簡単なプロトタイプを開発するのに便利なキット。</p>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-sm-2">
                                    <a href="https://www.switch-science.com/catalog/6344/">
                                        <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6344/500x500/d641f0da-0a76-4f64-baee-d66225d9480c.jpg" alt="M5Stack用環境センサユニット ver.2（ENV II）" width="100%">
                                    </a>
                                </td>
                                <td class="col-sm-10">
                                    <p><a href="https://www.switch-science.com/catalog/6344/">M5Stack用環境センサユニット ver.2（ENV II）</a></p>
                                    <p>温度/湿度/気圧が測定できる環境センサ。</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <p><a href="https://www.switch-science.com/catalog/6347/">ATOM Echo</a> は<a href="http://pages.switch-science.com/m5monthlyupdate/202006extra/">6月の号外</a> で紹介したので、今月はATOMICプロトキットとM5Stack用環境センサユニット ver.2（ENV II）を紹介します。</p>

                <h2 id="atomicプロトキット"><a href="https://www.switch-science.com/catalog/6345/">ATOMICプロトキット</a></h2>
                <p>AATOMICプロトキットは、ATOMシリーズ向けに設計された、簡単なプロトタイプを開発するのに便利なキットです。</p>
                <p>キットは黒いシールの貼られたケースに入っていて、中には次のものが含まれています。</p>
                <ul>
                <li>試作用基板</li>
                <li>試作用基板（ピンはんだ済み/完成品）</li>
                <li>4P VH互換（3.96 mm） プラグ + プラグベース</li>
                <li>4P 2.54 mmピン</li>
                <li>5P 2.54 mmピン</li>
                <li>ATOMICケース</li>
                <li>M2*3 mm タッピングネジ</li>
                <li>M2*8 mm ネジ</li>
                </ul>
                <p><img src="./images/protokit.jpg" width="100%" class="img-responsive center-block" alt="ProtoKit"></p>
                <p>ATOMシリーズは基板上の4Pと5Pのピンで接続します。ケースの大きさは47 x 34 x 18 mmで、長さ、幅はM5StickCとほぼ同じです。</p>
                <p><img src="./images/atomonproto.jpg" width="100%" class="img-responsive center-block" alt="ATOMonProtoKit"></p>
                <p>ATOMICプロトキットにはATOM Matrixは含まれていません</p>
                <p>試作用基板には50ホールのエリアがあり、はんだ付けが必要ですが、簡単な回路が作れます。オレンジ色の4Pコネクタは配線をネジ止めできるようになっていて、外部にセンサなどをつけるときに便利です。</p>
                <p>小さなセンサ端末やコントローラを試作するときに便利に使えるキットです。</p>

                <h2 id="m5stack用環境センサユニット-ver.2（env-ii）"><a href="https://www.switch-science.com/catalog/6344/">M5Stack用環境センサユニット ver.2（ENV II）</a></h2>
                <p>「M5Stack用環境センサユニット ver.2（ENV II）」は、ENV IIという名前が示すように、以前あった「M5Stack用環境センサユニット」の後継品です。「M5Stack用環境センサユニット」は搭載されていた温湿度センサDHT12が製造中止になったため販売が終了され、「ENV II」は温湿度センサがSHT30というセンサに変わりました。気圧センサは新旧ともBMP280というセンサが使われています。新旧のスペックを比べてみました。</p>
                <p><img src="./images/ENVUnitSpec.jpg" width="100%" class="img-responsive center-block" alt="ENV Unit Spec"></p>
                <p>「ENV II」の方が温度の測定範囲が広がり、湿度、気圧の測定はほぼ同スペックなので、より使いやすくなったと思います。</p>

                <h3 id="プログラム・サポート">プログラム・サポート</h3>
                <p>「M5Stack用環境センサユニット ver.2（ENV II）」をアクセスするために、ArduinoのライブラリとUI Flowのブロックが用意されています。</p>
                <p>Arduinoは原稿を書いている7月8日時点の最新版M5Stackライブラリ（0.3.0）のスケッチ例には、ENVセンサの例は含まれていますが、ENV IIの例はまだ含まれていません。GithubにはENV IIをアクセスするプログラムが公開されているので、これを使えば、ENV IIにアクセスできます。</p>
                <p><a href="https://github.com/m5stack/M5-ProductExampleCodes/tree/master/Unit/ENVII/Arduino/ENVII">https://github.com/m5stack/M5-ProductExampleCodes/tree/master/Unit/ENVII/Arduino/ENVII</a></p>
                <p>このURLにある <code>ENVII.ino</code> 、 <code>Adafruit_Sensor.h</code> 、 <code>SHT3X.cpp</code> 、 <code>SHT3X.h</code> の4つのファイルをダウンロードして、Arduino IDEで <code>ENVII.ino</code> を開くと、サンプルプログラムが見られます。「ENV II」をアクセスするには、次のように温湿度センサSHT30と気圧センサBMP280のオブジェクトを作り（①、②）、BMP280は <code>bme.begin(0x76)</code> で初期化をおこないます（③）。BMP280は <code>readPressure</code> というメソッドで気圧データを読むことができます（④）。SHT30は最初に <code>get</code> メソッドでセンサデータを読み（⑤）、次に <code>cTemp</code> と <code>humidity</code> というメソッドで温度と湿度を取得できます（⑥、⑦）。</p>
<pre><code>SHT3X sht30;        // ①
Adafruit_BMP280 bme;  // ②

void setup() {
    bme.begin(0x76);  // ③
}

void loop() {
    float tmp;
    float hum;
    float pressure;

    pressure = bme.readPressure();  // ④
    if(sht30.get()==0){  // ⑤
        tmp = sht30.cTemp;  // ⑥
        hum = sht30.humidity;  // ⑦
    }
}
</code></pre>
                <p>UI Flowは最新版のV1.5.4はENV IIに対応しています。UI Flow（ <a href="https://flow.m5stack.com/">https://flow.m5stack.com/</a> ）画面左のUnitの選択ボタン「＋」をクリックすると、ENVユニットの右にENV IIが現れます。</p>
                <p><img src="./images/UIFlowENVUnit.jpg" width="100%" class="img-responsive center-block" alt="UI Flow ENV II"></p>
                <p>ENV IIを選択すると、画面中央の「Units」メニューに「環境」が追加され、そこをクリックすると温度、湿度、気圧を取得するブロックが現れます。</p>
                <p><img src="./images/ENVBlock.jpg" width="100%" class="img-responsive center-block" alt="UI Flow ENV II選択"></p>
                <p>次のようなプログラムでENV IIユニットから60秒ごとに温度、湿度、気圧を読み取ってLCD画面に表示できます。</p>
                <p><img src="./images/ENVprogram.jpg" width="100%" class="img-responsive center-block" alt="ENV IIプログラム"></p>

            </div>

            <div class="col-lg-push-1 col-sm-3 col-lg-3 hidden-xs" style="margin-bottom: 40px;">
                <div style="float: left; margin-right: 10px;">
                    <img src="../images/master.jpg" width="50px;" class="center-block">
                </div>
                <div style="overflow: hidden;">
                    <p>書いた人:下島健彦。IoTデータ可視化サービス<a href="https://ambidata.io" target="_blank">Ambient</a>開発者。アンビエントデーター代表取締役。</p>
                </div>
            </div>
            <div class="col-lg-push-1 col-sm-3 col-lg-3 hidden-xs submenu" style="margin-bottom: 40px;">
                <ul class="nav nav-pills nav-stacked">
                    <li class="open"><a href="index.html">2020年7月</a></li>
                    <ul class="list-unstyled">
                        <li><a href="#年6月の新製品">2020年6月の新製品</a></li>
                        <li><a href="#atomicプロトキット">ATOMICプロトキット</a></li>
                        <li><a href="#m5stack用環境センサユニット-ver.2（env-ii）M5Stack用環境センサユニット ver.2（ENV II）">M5Stack用環境センサユニット ver.2（ENV II）</a></li>
                    </ul>
                </ul>
            </div>
            <div class="col-lg-push-1 col-sm-3 col-lg-3 hidden-xs submenu" id="backnumber">
            </div>
        </div>
    </div>
</div>

<div class="footer">
    <div class="container">
        <div class="row">
            <div>
                <h5>免責事項</h5>
                <p style="font-size:0.8em;">記事は実際に実験をおこなった上で書いていますが、動作を保証するものではありません。また本記事を利用したことにより生じる損害についてスイッチサイエンスおよびアンビエントデーターは一切の責任を負いません。</p>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
        </div>
        <div id="copyright">
            &copy; 2020 Switch Scinece, inc. &copy; 2020 AmbientData, Inc.
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script>
    $(document).ready(function() {
        $('#backnumber').load('../backnumber.html');
    });
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-4499733-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-4499733-1');
</script>

</body>
</html>
