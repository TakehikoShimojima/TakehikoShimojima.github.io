<!doctype html>
<html class="no-js" lang="">
<head>
<meta http-equiv="Content-type" content="text/html; charset=UTF-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="M5MonthlyUpdate202009">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>M5Stackマンスリーアップデート 2020年9月</title>
<link rel="shortcut icon" href="/favicon.ico" />

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<style>
    body {
        /* padding-top: 20px;
        padding-bottom: 20px; */
    }
    .navbar {
        margin-bottom: 60px;
        height: 140px;
    }
    .navbar-brand img {
        padding: 40px 0;
    }
    .footer {
        margin-top: 60px;
        background: #F7F7F7;
    }
    .footer ul {
        padding-top: 35px;
        padding-left: 0px;
        margin-left: 0px;
    }
    .footer li {
        line-height: 25px;
        padding-left: 0px;
        margin-left: 0px;
        list-style: none;
    }
    .footer a {
        color: #999;
        font-weight: bold;
    }
    .footer #copyright {
        clear: left;
        margin-top: 35px;
        margin-bottom: 20px;
    }
    .alert-info {
        margin-top: 70px;
        background-image: none !important;
    }
    h2 {
        margin-top: 40px;
    }
    .submenu li {
        margin-bottom: 6px;
    }
    .img-responsive {
        margin-top: 40px;
        margin-bottom: 40px;
    }
</style>
</head>
<body>

<div class="navbar navbar-default">
    <div class="container">
        <div class="container-fluid">

            <div class="navbar-header">
                <a class="navbar-brand" href="https://www.switch-science.com/">
                    <img alt="switch-science" src="../../top-logo.gif">
                </a>
            </div>

          </div>
    </div>
</div>

<div class="wrap">
    <div class="container">

        <div class="row">
            <div class="col-lg-8 col-sm-9 hidden-xs" style="margin-bottom: 20px;">
                <h1>M5Stackマンスリーアップデート(2020年9月)</h1>
            </div>
            <div class="col-sm-9 col-lg-8" style="font-size: 16px;">

                <p>M5Stack社の製品にまつわる新情報を月単位にまとめてお届けするコーナーです。</p>
                <h2 id="年8月の新製品">2020年8月の新製品</h2>
                <p>2020年8月は次の11製品の販売が始まりました。</p>

                <div class="row">
                    <table class="table">
                        <tbody>
                            <tr>
                                <td class="col-sm-2">
                                    <a href="https://www.switch-science.com/catalog/6480/">
                                        <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6480/500x500/5b1db77d-1bc0-4dc7-afa7-efd4ce754b14.jpg" width="100%">
                                    </a>
                                </td>
                                <td class="col-sm-10">
                                    <p><a href="https://www.switch-science.com/catalog/6480/">M5StickV + 16GB SD Card</a></p>
                                    <p>Kendryte K210を搭載したAIカメラで、従来の<a href="https://www.switch-science.com/catalog/5700/">M5StickV</a>と16GB SDカードがセットになったモデルです。
                                        3月以降の新モデルではピンアサインが変更されています。本製品は高性能なニューラルネットワークプロセッサ（KPU）とデュアルコア 64 bit RISC-V CPUを使用しており、低コストかつ高いエネルギー効率で高性能な画像処理を行うことができます。</p>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-sm-2">
                                    <a href="https://www.switch-science.com/catalog/6481/">
                                        <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6481/500x500/03b1b779-da68-446c-aa4d-ecef181c40d8.jpg" width="100%">
                                    </a>
                                </td>
                                <td class="col-sm-10">
                                    <p><a href="https://www.switch-science.com/catalog/6481/">M5 UnitV + 16GB SD Card</a></p>
                                    <p>Kendryte K210を搭載したAIカメラで、従来の<a href="https://www.switch-science.com/catalog/6212/">M5UnitV</a>と16GB SDカードがセットになったモデルです。
                                        <a href="https://www.switch-science.com/catalog/5700/">M5StickV</a>との違いは、液晶やバッテリー、ジャイロセンサが非搭載になり、小型軽量になった点です。
                                        <a href="https://www.switch-science.com/catalog/5517/">M5StickC</a>と組み合わせることで、補完して使うことが可能です。</p>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-sm-2">
                                    <a href="https://www.switch-science.com/catalog/6474/">
                                        <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6474/500x500/f7b34b05-d311-4837-af6e-3b24d7680941.jpg" width="100%">
                                    </a>
                                </td>
                                <td class="col-sm-10">
                                    <p><a href="https://www.switch-science.com/catalog/6474/">ATOMIC GPSキット (M8030-KT)</a></p>
                                    <p>M5ATOMをマウントし使用するATOMICシリーズのGPSモジュールです。
                                        測量チップはM8030-KTで、米国のGPS、ロシアのGLONASS、EUのGalileo、中国のBDS、日本のSBAS、QZSS衛星システムに対応しています。
                                        TF（MicroSD）カードがあり、GPSなどのデータの読み書きが可能です。また本商品には<a href="https://www.switch-science.com/catalog/6262/">ATOMLite</a>が付属しています。</p>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-sm-2">
                                    <a href="https://www.switch-science.com/catalog/6475/">
                                        <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6475/500x500/beff36b4-2f73-4c31-afcb-b7b48dfca6bb.jpg" width="100%">
                                    </a>
                                </td>
                                <td class="col-sm-10">
                                    <p><a href="https://www.switch-science.com/catalog/6475/">ATOMIC TFカードキット</a></p>
                                    <p>ATOMICシリーズのTF（MicroSD）カードです。容量16GバイトまでのTFカードに対応します。当商品には<a href="https://www.switch-science.com/catalog/6262/">ATOMLite</a>が付属しています。</p>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-sm-2">
                                    <a href="https://www.switch-science.com/catalog/6476/">
                                        <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6476/500x500/e57bbb73-03ab-411e-9a4d-0ab4ec66d086.jpg" width="100%">
                                    </a>
                                </td>
                                <td class="col-sm-10">
                                    <p><a href="https://www.switch-science.com/catalog/6476/">ATOMIC 2D/1D バーコードスキャナキット</a></p>
                                    <p>ATOMICシリーズのバーコード/QRコードスキャナモジュールです。
                                        6形式の2次元コードと19形式の1次元コードに対応しています。照明用LEDにより暗い場所でもコードを識別でき、独自のブザーにより、さまざまな状態で異なるプロンプトサウンドを発生できます。
                                        当商品には<a href="https://www.switch-science.com/catalog/6262/">ATOMLite</a>が付属しています。</p>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-sm-2">
                                    <a href="https://www.switch-science.com/catalog/6473/">
                                        <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6473/500x500/5a34bad0-4805-4d7c-ac3a-e49b08b44535.jpg" width="100%">
                                    </a>
                                </td>
                                <td class="col-sm-10">
                                    <p><a href="https://www.switch-science.com/catalog/6473/">ATOMIC RS232キット</a></p>
                                    <p>ATOMICシリーズのRS232キットです。TTLレベルとRS232レベルを変換し、RS232側から電源を供給できます。
                                        RS232はパソコンとの通信や産業用モジュールで広く使われているシリアル通信の標準規格です。
                                        当商品には<a href="https://www.switch-science.com/catalog/6262/">ATOMLite</a>が付属しています。</p>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-sm-2">
                                    <a href="https://www.switch-science.com/catalog/6472/">
                                        <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6472/500x500/5ebc817d-2bd5-4981-9f3b-e2705371c406.jpg" width="100%">
                                    </a>
                                </td>
                                <td class="col-sm-10">
                                    <p><a href="https://www.switch-science.com/catalog/6472/">ATOMIC RS485キット</a></p>
                                    <p>ATOMICシリーズのRS485キットです。TTLレベルとRS485レベルを変換し、RS485側から電源を供給できます。
                                        RS485は産業用モジュールで広く使われている差動信号規格です。当商品には<a href="https://www.switch-science.com/catalog/6262/">ATOMLite</a>が付属しています。</p>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-sm-2">
                                    <a href="https://www.switch-science.com/catalog/6353/">
                                        <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6353/500x500/d0e9a8e7-e10f-4f1c-a334-b30ce240ebb2.jpg" width="100%">
                                    </a>
                                </td>
                                <td class="col-sm-10">
                                    <p><a href="https://www.switch-science.com/catalog/6353/">3軸デジタル加速度計ユニット（ADXL345）</a></p>
                                    <p>ADXL345を搭載したモーションセンサユニットです。x、y、ｚの3軸で加速度を取得できます。</p>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-sm-2">
                                    <a href="https://www.switch-science.com/catalog/6355/">
                                        <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6355/500x500/88dd3e1c-70d7-4b5f-a81c-d9fc0c17ec48.jpg" width="100%">
                                    </a>
                                </td>
                                <td class="col-sm-10">
                                    <p><a href="https://www.switch-science.com/catalog/6355/">Base26 産業用プロト基板モジュール</a></p>
                                    <p>高さ26mmの産業用途向けプロトタイピング用M5ボトムです。パッケージには、独自の回路設計を追加できるプロトタイピング用基板が含まれます。
                                        基板上には、GROVE互換のボンディングパッドが2組あり、他に、M型防水ジョイントとTTL/RS485変換基板も搭載しています。M型防水ジョイント（M12×15）はベースの側面と底部上に設置できます。</p>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-sm-2">
                                    <a href="https://www.switch-science.com/catalog/6356/">
                                        <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6356/500x500/51210668-24c5-48d0-ba88-c34dc484913e.jpg" width="100%">
                                    </a>
                                </td>
                                <td class="col-sm-10">
                                    <p><a href="https://www.switch-science.com/catalog/6356/">M5GO/FIRE バッテリーボトム</a></p>
                                    <p>M5Stack BasicやGrayのボトムを、M5GOやFIREと同じボトムにアップグレードするためのパーツです。
                                        大容量バッテリー（500 mAh）、LEGO用の取り付け穴、アナログマイクロフォン、LEDバー、Groveポート二つなどが追加されています。</p>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-sm-2">
                                    <a href="https://www.switch-science.com/catalog/6346/">
                                        <img src="https://d2air1d4eqhwg2.cloudfront.net/images/6346/500x500/4674bbf0-10a2-4332-9d9b-4b4c948ac68d.jpg" width="100%">
                                    </a>
                                </td>
                                <td class="col-sm-10">
                                    <p><a href="https://www.switch-science.com/catalog/6346/">BALA-C ミニセルフバランスカー</a></p>
                                    <p>バランスカー（倒立振子）が作れるキットです。キットにはM5StickC、交換可能な充電池、360°サーボ2個が含まれます。
                                        UIFlowグラフィックインターフェイスを使って、プログラムできます。</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>


                <h2 id="atomicシリーズ">ATOMICシリーズ</h2>
                <p>8月の注目製品はATOMICシリーズです。M5ATOMをマウントし使用する拡張モジュールをATOMICシリーズと呼び、2020年7月以前に<a href="https://www.switch-science.com/catalog/6345/">ATOMICプロトキット</a>が発売されました。
                    8月には一挙に次の5製品が販売開始になりました。</p>
                <ul>
                    <li><a href="https://www.switch-science.com/catalog/6474/">ATOMIC GPSキット (M8030-KT)</a></li>
                    <li><a href="https://www.switch-science.com/catalog/6475/">ATOMIC TFカードキット</a></li>
                    <li><a href="https://www.switch-science.com/catalog/6476/">ATOMIC 2D/1D バーコードスキャナキット</a></li>
                    <li><a href="https://www.switch-science.com/catalog/6473/">ATOMIC RS232キット</a></li>
                    <li><a href="https://www.switch-science.com/catalog/6472/">ATOMIC RS485キット</a></li>
                </ul>
                <p>ATOMシリーズを組み合わせるので、プログラミングはArduino IDE、UI Flow（Blockly、MicroPython）でおこないます。原稿執筆時点でArduino IDEのスケッチ例には今回のATOMICシリーズのサンプルコードはなく、UI FlowのV1.4.5、V1.6.3Betaにもサポートするブロックはありませんが、以下のURLにサンプルコードが掲載されています。</p>
                <p><a href="https://github.com/m5stack/M5-ProductExampleCodes/tree/master/AtomBase">https://github.com/m5stack/M5-ProductExampleCodes/tree/master/AtomBase</a></p>
                <p>サンプルコードを利用するには <a href="https://github.com/m5stack/M5-ProductExampleCodes">https://github.com/m5stack/M5-ProductExampleCodes</a> にアクセスし、右上の「Code」ボタン、「Download ZIP」とクリックしてZIPファイルをダウンロードします。ZIPファイルを展開し、「AtomBase」フォルダの中のサンプルコードを使うのがわかりやすいでしょう。</p>
                <p>製品ごとにサンプルコードを簡単に解説します。</p>

                <h3 id="gpsキット">GPSキット</h3>
                <p>Arduinoのサンプルコードが提供されています。GPSオブジェクトを定義し、 <code>setup</code> 関数で初期設定をおこない、 <code>upDate</code> 関数を呼ぶと緯度経度、時刻情報が得られます。</p>
<pre><code>#include "GPSAnalyse.h"   // ヘッダーファイルをインクルード

GPSAnalyse GPS;  // GPSオブジェクトを定義する

// setup関数で以下の初期設定をおこなう
GPS.setTaskName("GPS");  // タスク名をつける
GPS.setTaskPriority(2);    // タスクのプライオリティを設定する
GPS.setSerialPtr(Serial1);  // GPSと通信するシリアルポートとしてSerial1を指定する
GPS.start();  // GPSモジュールを起動する

// loop関数で
GPS.upDate();  // upDate関数でGPSモジュールからデータを取得する
Lat = GPS.s_GNRMC.Latitude;  // 緯度を取得する
Lon = GPS.s_GNRMC.Longitude;  // 経度を取得する
Utc = GPS.s_GNRMC.Utc;  // UTC（協定世界時）を取得する
</code></pre>

                <h3 id="tfカードキット">TFカードキット</h3>
                <p>ArduinoのサンプルコードにTF（MicroSD）カードにアクセスする以下の関数が提供されています。</p>
<pre><code>void listDir(fs::FS &amp;fs, const char * dirname, uint8_t levels);  // ディレクトリの中身を表示する
void createDir(fs::FS &amp;fs, const char * path);  // ディレクトリを生成する
void removeDir(fs::FS &amp;fs, const char * path);  // ディレクトリを削除する
void readFile(fs::FS &amp;fs, const char * path);  // ファイルを読む
void writeFile(fs::FS &amp;fs, const char * path, const char * message);  // ファイルに文字列を書く
void appendFile(fs::FS &amp;fs, const char * path, const char * message);  // ファイルに文字列を追加する
void renameFile(fs::FS &amp;fs, const char * path1, const char * path2);  // ファイル名を変更する
void deleteFile(fs::FS &amp;fs, const char * path);  // ファイルを削除する
</code></pre>

                <h3 id="バーコードスキャナキット">バーコードスキャナキット</h3>
                <p>Arduinoのサンプルコードと UI Flow プログラムが提供されています。Arduinoのサンプルコードはボタンを押すとスキャンし、Serial2を読むとスキャンした情報が得られるという簡単なものです。UI Flow ブロックは、ダウンロードして展開したファイルの AtomBase¥AtomicQR¥UIFlow フォルダの中の Atomic_QR.m5f ファイルをUI Flowで読み込むと見られます。</p>
                <p><img src="./images/atomicQR.jpg" width="100%" class="img-responsive center-block"  alt="バーコードスキャナ"></p>

                <h3 id="rs232キット、rs485キット">RS232キット、RS485キット</h3>
                <p>Arduinoのサンプルコードと UI Flow プログラムが提供されています。ArduinoサンプルコードはSerial2でRS232、RS485の通信をおこなう簡単なものです。UI Flowプログラムも同様です。</p>
                <p><img src="./images/atomicRS232.jpg" width="100%" class="img-responsive center-block"  alt="RS232C"></p>

                <h2 id="bala-c-ミニセルフバランスカー">BALA-C ミニセルフバランスカー</h2>
                <p>もう一つ、面白い製品はBALA-C ミニセルフバランスカーです。日本では倒立振子とも呼ばれ、2輪で前後に細かく動きながらバランスを取って立つ製品です。本キットにはM5StickC、交換可能な充電池、360°サーボ2個など倒立振子に必要なパーツが含まれています。</p>
                <p>プログラムは、次のURLの下にArduinoとUI Flowのサンプルコードが提供されています。</p>
                <p><a href="https://github.com/m5stack/M5-ProductExampleCodes/tree/master/App/BalaC">https://github.com/m5stack/M5-ProductExampleCodes/tree/master/App/BalaC</a></p>
                <p>先程のATOMICシリーズのサンプルコードと共通のZIPファイルに含まれているので、ZIPコードをダウンロードして展開していれば、「AtomBase」フォルダの隣に「App¥BalaC」フォルダが見つかり、その下にArduinoとUI Flowのサンプルコードがあります。</p>
                <p>Arduinoのサンプルコードのコメントによると、次のような手順で倒立できるそうです。</p>
                <ul>
                <li>Bala-Cを水平にして電源を入れる</li>
                <li>LCDにCal-1と表示されジャイロセンサのキャリブレーションが終わるのを待つ</li>
                <li>LCDにCal-2と表示され加速度センサのキャリブレーションが終わるまで倒立させたまま待つ</li>
                </ul>

                <h2 id="まとめ">まとめ</h2>
                <p>8月に発売開始された製品は、M5StickV + 16GB SD Card、M5 UnitV + 16GB SD Cardは汎用、BALA-C ミニセルフバランスカーは教育/ホビー向けの製品ですが、Base26 産業用プロト基板モジュールやATOMICシリーズの製品群は産業用途を意識した製品になっています。あらゆる分野に広くM5Stack関連製品を提供していこうというM5Stack社の狙いが感じられ、今後の製品拡充が楽しみです。</p>


                <div style="margin-top: 30px;">
                    <p class="text-right">執筆日：2020年9月15日</p>
                </div>


            </div>
            <div class="col-lg-push-1 col-sm-3 col-lg-3 hidden-xs" style="margin-bottom: 40px;">
                <div style="float: left; margin-right: 10px;">
                    <img src="../images/master.jpg" width="50px;" class="center-block">
                </div>
                <div style="overflow: hidden;">
                    <p>書いた人:下島健彦。IoTデータ可視化サービス<a href="https://ambidata.io" target="_blank">Ambient</a>開発者。アンビエントデーター代表取締役。</p>
                </div>
            </div>
            <div class="col-lg-push-1 col-sm-3 col-lg-3 hidden-xs submenu" style="margin-bottom: 40px;">
                <ul class="nav nav-pills nav-stacked">
                    <li class="open"><a href="index.html">2020年7月</a></li>
                    <ul class="list-unstyled">
                        <li><a href="#年8月の新製品">2020年8月の新製品</a></li>
                        <li><a href="#atomicシリーズ">ATOMICシリーズ</a></li>
                        <li><a href="#gpsキット">GPSキット</a></li>
                        <li><a href="#tfカードキット">TFカードキット</a></li>
                        <li><a href="#バーコードスキャナキット">バーコードスキャナキット</a></li>
                        <li><a href="#rs232キット、rs485キット">RS232キット、RS485キット</a></li>
                        <li><a href="#bala-c-ミニセルフバランスカー">BALA-C ミニセルフバランスカー</a></li>
                        <li><a href="#まとめ">まとめ</a></li>
                    </ul>
                </ul>
            </div>
            <div class="col-lg-push-1 col-sm-3 col-lg-3 hidden-xs submenu" id="backnumber">
            </div>
        </div>
    </div>
</div>

<div class="footer">
    <div class="container">
        <div class="row">
            <div>
                <h5>免責事項</h5>
                <p style="font-size:0.8em;">記事は実際に実験をおこなった上で書いていますが、動作を保証するものではありません。また本記事を利用したことにより生じる損害についてスイッチサイエンスおよびアンビエントデーターは一切の責任を負いません。</p>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
            <div class="col-xs-3">
                <ul>
                    <li></li>
                </ul>
            </div>
        </div>
        <div id="copyright">
            &copy; 2020 Switch Scinece, inc. &copy; 2020 AmbientData, Inc.
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script>
    $(document).ready(function() {
        $('#backnumber').load('../backnumber.html');
    });
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-4499733-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-4499733-1');
</script>

</body>
</html>
